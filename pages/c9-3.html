<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ° C9-3 ë‚­í”Œë‹¨</title>

<style>
body{
    background:#FFF7E8;
    font-family:"Pretendard",-apple-system,BlinkMacSystemFont,system-ui,sans-serif;
    margin:0; padding:20px;
    display:flex; justify-content:center;
    color:#2b2b2b;
}
.wrap{width:100%;max-width:1100px;}

h1{
    text-align:center;
    font-size:22px;
    margin-bottom:14px;
    color:#FF9800;
    font-weight:800;
}

.nav{
    display:flex; gap:8px; margin-bottom:12px;
}
.nav button{
    background:#FFE0B2;
    border:none;
    border-radius:999px;
    padding:6px 14px;
    font-weight:600;
    cursor:pointer;
}

.search{
    display:flex;
    justify-content:center;
    margin-bottom:12px;
}
.search input{
    width:260px;
    padding:6px 12px;
    border-radius:999px;
    border:1px solid #FFD699;
}

.table{
    display:flex;
    flex-direction:column;
    gap:6px;
    min-width:860px;
}
.row{
    display:flex;
    background:#FFF;
    border-radius:18px;
    overflow:hidden;
    box-shadow:0 1px 4px rgba(0,0,0,.08);
}
.header{
    background:#FFE0B2;
    font-weight:700;
}
.cell{
    padding:6px 8px;
    font-size:14px;
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;
    border-right:1px solid #FFE7C2;
}
.cell:last-child{border-right:none}

.row .cell:nth-child(1){width:130px}
.row .cell:nth-child(2){width:140px}
.row .cell:nth-child(3){width:100px}
.row .cell:nth-child(4){width:560px}
.row .cell:nth-child(5){width:80px}

.data-row:hover{transform:translateY(-1px)}

.summary{
    background:#FFF3E0;
    font-weight:800;
}

/* ìƒ‰ìƒ ë‹¨ê³„ */
:root{
    --lv1:#FFF7ED;
    --lv2:#FFF3E0;
    --lv3:#FFE0B2;
    --lv4:#FFCC80;
    --lv5:#FFB74D;
    --lv6:#FFA726;
}
</style>
</head>

<body>
<div class="wrap">

<div class="nav">
    <button onclick="location.href='../index.html'">ğŸ  í™ˆ</button>
    <button onclick="history.back()">â—€ ì´ì „</button>
</div>

<h1>ğŸ° C9-3 ë‚­í”Œë‹¨</h1>

<div class="search">
    <input id="search" placeholder="ì•„ì´ë”” / ë‹‰ë„¤ì„ ê²€ìƒ‰">
</div>

<div class="table" id="table">

<div class="row header">
    <div class="cell">ì•„ì´ë””</div>
    <div class="cell">ë‹‰ë„¤ì„</div>
    <div class="cell">ë‚­í”Œ</div>
    <div class="cell">ê³µì•½</div>
    <div class="cell"></div>
</div>

<!-- ë°ì´í„° í–‰ -->
<div class="row data-row">
    <div class="cell" contenteditable>fox11241</div>
    <div class="cell" contenteditable>#woorinangni</div>
    <div class="cell amount" contenteditable>190874</div>
    <div class="cell pledge"></div>
    <div class="cell"></div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable>dksl2233</div>
    <div class="cell" contenteditable>[C9]ì˜í•´</div>
    <div class="cell amount" contenteditable>147890</div>
    <div class="cell pledge"></div>
    <div class="cell"></div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable>jounguk892</div>
    <div class="cell" contenteditable>ê½ƒì„ë•Œí¬ì—´</div>
    <div class="cell amount" contenteditable>13883</div>
    <div class="cell pledge"></div>
    <div class="cell"></div>
</div>

<div class="row data-row">
    <div class="cell" contenteditable>tomorrow1111</div>
    <div class="cell" contenteditable>ì¡°ë¸”ë…¸ì—˜</div>
    <div class="cell amount" contenteditable>1678</div>
    <div class="cell pledge"></div>
    <div class="cell"></div>
</div>

<!-- í•©ê³„ -->
<div class="row summary">
    <div class="cell">í•©ê³„</div>
    <div class="cell" id="cnt"></div>
    <div class="cell" id="sum"></div>
    <div class="cell"></div>
    <div class="cell"></div>
</div>

</div>
</div>

<script>
function num(v){return parseInt(String(v).replace(/[^0-9]/g,''))||0}

function pledgeByAmount(n){
    if(n<=999) return "ì†ŒìŒë‹¨";
    if(n<=2999) return "ì—­íŒ¬ 3% + ê³ ì • ì‚¬ì§„ ë°©ì…€";
    if(n<=4999) return "ì—­íŒ¬3% + ë°©ì…€ (ì‚¬ì§„ 2ì¥)";
    if(n<=9999) return "ì—­íŒ¬3% + ë°©ì…€ (ì‚¬ì§„ 2ì¥, ì›€ì§¤ 1ì¥)";
    if(n<=49999) return "ì¹´í†¡ + ì—­íŒ¬ 3% + ì •ì„±ë°©ì…€ or ì›í•˜ëŠ” ì§ì›ê³¼ ë°©ì…€(ëŒ€í‘œë‹˜ í¬í•¨)";
    if(n<=100000) return "ì¹´í†¡ + ì—­íŒ¬ 3% + ì •ì„±ë°©ì…€ + ì†Œì†Œí•œì„ ë¬¼";
    if(n<=299999) return "ì •ì„±ë°©ì…€ + ì—­íŒ¬ 3% or ë°°ë¯¼ 50ë§Œì› + ë°©ì†¡ì†Œì›ê¶Œ + ì‹ë°";
    return "ì •ì„±ë°©ì…€ + ì—­íŒ¬ 3% or ë°°ë¯¼ 100ë§Œì› + ì‹ë° + ìˆ ë° + ë°±í™”ì  ë°ì´íŠ¸";
}

function colorByAmount(row,n){
    if(n<=999) row.style.background="var(--lv1)";
    else if(n<=2999) row.style.background="var(--lv2)";
    else if(n<=9999) row.style.background="var(--lv3)";
    else if(n<=49999) row.style.background="var(--lv4)";
    else if(n<=100000) row.style.background="var(--lv5)";
    else row.style.background="var(--lv6)";
}

function refresh(){
    let sum=0,cnt=0;
    document.querySelectorAll(".data-row").forEach(r=>{
        const n=num(r.querySelector(".amount").innerText);
        r.querySelector(".pledge").innerText=pledgeByAmount(n);
        colorByAmount(r,n);
        sum+=n; cnt++;
    });
    document.getElementById("sum").innerText=sum.toLocaleString();
    document.getElementById("cnt").innerText=cnt+"ëª…";
}

document.addEventListener("input",refresh);

document.getElementById("search").addEventListener("input",e=>{
    const q=e.target.value.toLowerCase();
    document.querySelectorAll(".data-row").forEach(r=>{
        const t=(r.innerText||"").toLowerCase();
        r.style.display=t.includes(q)?"flex":"none";
    });
});

window.onload=refresh;
</script>
</body>
</html>
