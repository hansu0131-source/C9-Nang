<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ° C9 3íšŒì°¨ ìˆ™ì œ ì²´í¬</title>

<style>
body{
  background:#FFF9D9;
  font-family:"Pretendard",-apple-system,BlinkMacSystemFont,system-ui,sans-serif;
  display:flex; justify-content:center;
  padding:20px 16px; margin:0;
  color:#3b2f10;
}
.wrap{ width:100%; max-width:1080px; margin:0 auto; }

h1{
  text-align:center;
  font-size:22px; font-weight:900;
  margin:6px 0 10px;
  color:#C98B00;
}
.sub-title{
  text-align:center;
  font-size:13px;
  margin-bottom:14px;
  color:#8A6A00;
}
.nav-bar{
  display:flex; justify-content:center; gap:8px;
  margin-bottom:12px;
}
.nav-bar a{
  font-size:12px;
  padding:6px 12px;
  border-radius:999px;
  border:1px solid #FFE08A;
  background:#fff;
  text-decoration:none;
  color:#6A4D00;
  font-weight:700;
}
.nav-bar a:hover{ background:#FFF2B8; }

.table-scroll{ overflow-x:auto; padding-bottom:4px; }
.table{
  display:flex; flex-direction:column; gap:4px;
  min-width:1000px;
}
.row{
  display:flex;
  background:white;
  border-radius:24px;
  overflow:hidden;
  box-shadow:0 1px 4px rgba(255,190,60,0.12);
  padding:2px 0;
}
.cell{
  padding:4px 8px;
  font-size:14px;
  display:inline-flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  border-right:1px solid #FFF1B9;
  outline:none;
  cursor:text;
  white-space:normal;
  word-break:keep-all;
}
.cell:last-child{ border-right:none; }

.header{ background:#FFF2B8; }
.header .cell{
  font-weight:800;
  color:#805B00;
  border-bottom:2px solid #FFD96B;
  cursor:default;
}
.summary-row{
  background:#FFFDF1;
  font-weight:800;
  color:#6A4D00;
}

/* ì—´ ë„ˆë¹„ */
.row .cell:nth-child(1){ width:130px; } /* ì•„ì´ë”” */
.row .cell:nth-child(2){ width:130px; } /* ë‹‰ë„¤ì„ */
.row .cell:nth-child(3){ width:120px; } /* ìˆ™ì œ ì¢…ë¥˜ */
.row .cell:nth-child(4){ width:90px;  } /* ë‚­í”Œ */
.row .cell:nth-child(5){ width:90px;  } /* ì—­íŒ¬ */
.row .cell:nth-child(6){ width:70px;  } /* ì‚¬ì§„ */
.row .cell:nth-child(7){ width:70px;  } /* ì›€ì§¤ */
.row .cell:nth-child(8){ width:190px; } /* ë¹„ê³  */
.row .cell:nth-child(9){ width:80px;  } /* ë²„íŠ¼ */

.action-cell{ position:relative; border-right:none; }
.action-buttons{
  display:none; gap:4px;
  position:absolute; right:4px; top:50%;
  transform:translateY(-50%);
}
.action-buttons button{
  background:#FFE79A;
  border:none; border-radius:999px;
  padding:3px 7px;
  font-size:11px;
  cursor:pointer;
  color:#6A4D00;
  transition:background 0.15s ease, transform 0.15s ease;
}
.action-buttons button:hover{
  background:#FFD96B;
  transform:translateY(-1px);
}
.row.show-actions .action-buttons{ display:flex; }
</style>
</head>

<body>
<div class="wrap">

  <h1>ğŸ° C9 3íšŒì°¨ ìˆ™ì œ ì²´í¬</h1>
  <p class="sub-title">â€» ì†ŒìŒë‹¨(1000 ë¯¸ë§Œ)ì€ ìˆ™ì œì—ì„œ ì œì™¸ / 1000 ì´ìƒë§Œ í‘œì‹œ</p>

  <div class="nav-bar">
    <a href="../index.html">â† í™ˆìœ¼ë¡œ</a>
    <a href="c9-3.html">â† C9 3íšŒì°¨ ë‚­í”Œë‹¨</a>
  </div>

  <div class="table-scroll">
    <div class="table" id="table">

      <div class="row header">
        <div class="cell">ì•„ì´ë””</div>
        <div class="cell">ë‹‰ë„¤ì„</div>
        <div class="cell">ìˆ™ì œ ì¢…ë¥˜</div>
        <div class="cell">ë‚­í”Œ</div>
        <div class="cell">ì—­íŒ¬(3%)</div>
        <div class="cell">ì‚¬ì§„</div>
        <div class="cell">ì›€ì§¤</div>
        <div class="cell">ë¹„ê³ </div>
        <div class="cell action-cell"></div>
      </div>

      <!-- ====== C9-3 (1000 ì´ìƒë§Œ) ====== -->
      <div class="row data-row">
        <div class="cell" contenteditable="true">fox11241</div>
        <div class="cell" contenteditable="true">#woorinangni</div>
        <div class="cell hwtype-cell" contenteditable="true"></div>
        <div class="cell amount-cell" contenteditable="true">190874</div>
        <div class="cell yeok-cell"></div>
        <div class="cell photo-cell" contenteditable="true"></div>
        <div class="cell gif-cell" contenteditable="true"></div>
        <div class="cell" contenteditable="true"></div>
        <div class="cell action-cell"><div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div></div>
      </div>

      <div class="row data-row">
        <div class="cell" contenteditable="true">dksl2233</div>
        <div class="cell" contenteditable="true">[C9]ì˜í•´</div>
        <div class="cell hwtype-cell" contenteditable="true"></div>
        <div class="cell amount-cell" contenteditable="true">147890</div>
        <div class="cell yeok-cell"></div>
        <div class="cell photo-cell" contenteditable="true"></div>
        <div class="cell gif-cell" contenteditable="true"></div>
        <div class="cell" contenteditable="true"></div>
        <div class="cell action-cell"><div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div></div>
      </div>

      <div class="row data-row">
        <div class="cell" contenteditable="true">jounguk892</div>
        <div class="cell" contenteditable="true">ê½‚ì„ë•Œí¬ì—´</div>
        <div class="cell hwtype-cell" contenteditable="true"></div>
        <div class="cell amount-cell" contenteditable="true">13883</div>
        <div class="cell yeok-cell"></div>
        <div class="cell photo-cell" contenteditable="true"></div>
        <div class="cell gif-cell" contenteditable="true"></div>
        <div class="cell" contenteditable="true"></div>
        <div class="cell action-cell"><div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div></div>
      </div>

      <div class="row data-row">
        <div class="cell" contenteditable="true">tjd01084</div>
        <div class="cell" contenteditable="true">ë‚­ê²¨ìš¸â™¥</div>
        <div class="cell hwtype-cell" contenteditable="true"></div>
        <div class="cell amount-cell" contenteditable="true">10782</div>
        <div class="cell yeok-cell"></div>
        <div class="cell photo-cell" contenteditable="true"></div>
        <div class="cell gif-cell" contenteditable="true"></div>
        <div class="cell" contenteditable="true"></div>
        <div class="cell action-cell"><div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div></div>
      </div>

      <div class="row data-row">
        <div class="cell" contenteditable="true">gjckdtlr1744</div>
        <div class="cell" contenteditable="true">ì–¼ë¹µì–¼ë¹µì–¼ë¹µ</div>
        <div class="cell hwtype-cell" contenteditable="true"></div>
        <div class="cell amount-cell" contenteditable="true">10300</div>
        <div class="cell yeok-cell"></div>
        <div class="cell photo-cell" contenteditable="true"></div>
        <div class="cell gif-cell" contenteditable="true"></div>
        <div class="cell" contenteditable="true"></div>
        <div class="cell action-cell"><div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div></div>
      </div>

      <div class="row data-row">
        <div class="cell" contenteditable="true">noble275</div>
        <div class="cell" contenteditable="true">ê¼¬ë¼ì§€í•˜ê³ ëŠ”</div>
        <div class="cell hwtype-cell" contenteditable="true"></div>
        <div class="cell amount-cell" contenteditable="true">10069</div>
        <div class="cell yeok-cell"></div>
        <div class="cell photo-cell" contenteditable="true"></div>
        <div class="cell gif-cell" contenteditable="true"></div>
        <div class="cell" contenteditable="true"></div>
        <div class="cell action-cell"><div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div></div>
      </div>

      <div class="row data-row">
        <div class="cell" contenteditable="true">lommy0124</div>
        <div class="cell" contenteditable="true">Grok29</div>
        <div class="cell hwtype-cell" contenteditable="true"></div>
        <div class="cell amount-cell" contenteditable="true">10000</div>
        <div class="cell yeok-cell"></div>
        <div class="cell photo-cell" contenteditable="true"></div>
        <div class="cell gif-cell" contenteditable="true"></div>
        <div class="cell" contenteditable="true"></div>
        <div class="cell action-cell"><div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div></div>
      </div>

      <div class="row data-row">
        <div class="cell" contenteditable="true">kokoko2151</div>
        <div class="cell" contenteditable="true">ë¡œë„Œ</div>
        <div class="cell hwtype-cell" contenteditable="true"></div>
        <div class="cell amount-cell" contenteditable="true">5734</div>
        <div class="cell yeok-cell"></div>
        <div class="cell photo-cell" contenteditable="true"></div>
        <div class="cell gif-cell" contenteditable="true"></div>
        <div class="cell" contenteditable="true"></div>
        <div class="cell action-cell"><div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div></div>
      </div>

      <div class="row data-row">
        <div class="cell" contenteditable="true">tmddn6630</div>
        <div class="cell" contenteditable="true">VALeNTiNo_</div>
        <div class="cell hwtype-cell" contenteditable="true"></div>
        <div class="cell amount-cell" contenteditable="true">3064</div>
        <div class="cell yeok-cell"></div>
        <div class="cell photo-cell" contenteditable="true"></div>
        <div class="cell gif-cell" contenteditable="true"></div>
        <div class="cell" contenteditable="true"></div>
        <div class="cell action-cell"><div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div></div>
      </div>

      <div class="row data-row">
        <div class="cell" contenteditable="true">tomorrow1111</div>
        <div class="cell" contenteditable="true">ì¡°ë¸”ë…¸ì—˜</div>
        <div class="cell hwtype-cell" contenteditable="true"></div>
        <div class="cell amount-cell" contenteditable="true">1678</div>
        <div class="cell yeok-cell"></div>
        <div class="cell photo-cell" contenteditable="true"></div>
        <div class="cell gif-cell" contenteditable="true"></div>
        <div class="cell" contenteditable="true"></div>
        <div class="cell action-cell"><div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div></div>
      </div>

      <div class="row data-row">
        <div class="cell" contenteditable="true">malguman</div>
        <div class="cell" contenteditable="true">ë„ë§‘ìŒ</div>
        <div class="cell hwtype-cell" contenteditable="true"></div>
        <div class="cell amount-cell" contenteditable="true">1225</div>
        <div class="cell yeok-cell"></div>
        <div class="cell photo-cell" contenteditable="true"></div>
        <div class="cell gif-cell" contenteditable="true"></div>
        <div class="cell" contenteditable="true"></div>
        <div class="cell action-cell"><div class="action-buttons"><button class="add">+</button><button class="del">ğŸ—‘</button></div></div>
      </div>

      <!-- í•©ê³„ -->
      <div class="row summary-row">
        <div class="cell">í•©ê³„</div>
        <div class="cell"></div>
        <div class="cell"></div>
        <div class="cell summary-nangpul"></div>
        <div class="cell summary-yeok"></div>
        <div class="cell summary-photo"></div>
        <div class="cell summary-gif"></div>
        <div class="cell"></div>
        <div class="cell"></div>
      </div>

    </div>
  </div>
</div>

<script>
function n(v){ return parseInt(String(v??"").replace(/[^0-9]/g,"")) || 0; }
function setText(el, val){ if(el) el.textContent = val || ""; }

/* ê³µì•½ êµ¬ê°„ â†’ ìˆ™ì œ(ì‚¬ì§„/ì›€ì§¤/ì¢…ë¥˜) ìë™ */
function rule(amount){
  // amountëŠ” 1000 ì´ìƒë§Œ (ì†ŒìŒë‹¨ì€ í˜ì´ì§€ì— ì—†ìŒ)
  if(amount >= 1000 && amount <= 2999){
    return { type:"ê³ ì • ì‚¬ì§„ ë°©ì…€", photo:"1+", gif:"0" };
  }
  if(amount >= 3000 && amount <= 4999){
    return { type:"ë°©ì…€", photo:"2", gif:"0" };
  }
  if(amount >= 5000 && amount <= 9999){
    return { type:"ë°©ì…€", photo:"2", gif:"1" };
  }
  // 10000 ì´ìƒì€ ì •ì„±ë°©ì…€ë¡œ ë¬¶ìŒ
  return { type:"ì •ì„±ë°©ì…€", photo:"4", gif:"4" };
}

/* ì „ì²´ ê³„ì‚° */
function updateAll(){
  let totalN=0, totalY=0, totalP=0, totalG=0;

  document.querySelectorAll(".data-row").forEach(row=>{
    const amountCell = row.querySelector(".amount-cell");
    const yeokCell   = row.querySelector(".yeok-cell");
    const typeCell   = row.querySelector(".hwtype-cell");
    const photoCell  = row.querySelector(".photo-cell");
    const gifCell    = row.querySelector(".gif-cell");

    const amount = n(amountCell?.textContent);
    totalN += amount;

    // ì—­íŒ¬ 3%
    const yeok = Math.floor(amount * 0.03);
    setText(yeokCell, yeok ? yeok.toLocaleString() : "");
    totalY += yeok;

    // ìë™ ìˆ™ì œ ì„¸íŒ…(ì‚¬ìš©ìê°€ ìˆ˜ì •í•˜ë©´ ê·¸ëŒ€ë¡œ ë‘ê³  ì‹¶ìœ¼ë©´ ì—¬ê¸° ì¡°ê±´ë§Œ ë°”ê¾¸ë©´ ë¨)
    const r = rule(amount);
    if(typeCell && !typeCell.textContent.trim()) typeCell.textContent = r.type;
    if(photoCell && !photoCell.textContent.trim()) photoCell.textContent = r.photo;
    if(gifCell && !gifCell.textContent.trim()) gifCell.textContent = r.gif;

    // í•©ê³„ìš© ìˆ«ì(1+ ê°™ì€ ê°’ë„ ìˆ«ìë§Œ ì¶”ì¶œ)
    totalP += n(photoCell?.textContent);
    totalG += n(gifCell?.textContent);
  });

  document.querySelector(".summary-nangpul").textContent = totalN.toLocaleString();
  document.querySelector(".summary-yeok").textContent = totalY.toLocaleString();
  document.querySelector(".summary-photo").textContent = totalP.toLocaleString();
  document.querySelector(".summary-gif").textContent = totalG.toLocaleString();
}

/* í–‰ ì¶”ê°€/ì‚­ì œ */
function addRow(after){
  const newRow = after.cloneNode(true);
  newRow.querySelectorAll(".cell").forEach(c=>{
    if(c.classList.contains("action-cell")) return;
    if(c.classList.contains("yeok-cell")) c.textContent = "";
    else c.textContent = "";
  });
  after.insertAdjacentElement("afterend", newRow);
  updateAll();
}
function deleteRow(row){
  if(document.querySelectorAll(".data-row").length <= 1){
    alert("ë§ˆì§€ë§‰ í–‰ì€ ì‚­ì œ ë¶ˆê°€");
    return;
  }
  row.remove();
  updateAll();
}

document.addEventListener("click",(e)=>{
  const row = e.target.closest(".data-row");
  document.querySelectorAll(".data-row").forEach(r=>r.classList.remove("show-actions"));
  if(row) row.classList.add("show-actions");

  if(e.target.classList.contains("add")) addRow(row);
  if(e.target.classList.contains("del")) deleteRow(row);
});

document.addEventListener("input", ()=> updateAll());
window.onload = updateAll;
</script>

</body>
</html>
